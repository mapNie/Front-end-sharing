{"remainingRequest":"/Users/niefangchun/Desktop/个人博客/vuepress-starter/node_modules/babel-loader/lib/index.js??ref--3-1!/Users/niefangchun/Desktop/个人博客/vuepress-starter/node_modules/vuepress-plugin-mailchimp/src/mailchimpSubscribe.js","dependencies":[{"path":"/Users/niefangchun/Desktop/个人博客/vuepress-starter/node_modules/vuepress-plugin-mailchimp/src/mailchimpSubscribe.js","mtime":1681547716999},{"path":"/Users/niefangchun/Desktop/个人博客/vuepress-starter/node_modules/cache-loader/dist/cjs.js","mtime":1681296308882},{"path":"/Users/niefangchun/Desktop/个人博客/vuepress-starter/node_modules/babel-loader/lib/index.js","mtime":1670088883542}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGpzb25wIGZyb20gJ2pzb25wJzsKaW1wb3J0IHF1ZXJ5U3RyaW5nIGZyb20gJ3F1ZXJ5LXN0cmluZyc7CmltcG9ydCBfZGVidWcgZnJvbSAnZGVidWcnOwpjb25zdCBkZWJ1ZyA9IF9kZWJ1ZygncGx1Z2luLW1haWxjaGltcCcpOwoKLyoqCiAqIElmIGRldmVsb3BlcnMgbWFrZSBVSSBjdXN0b21penRpb24gYW5kIG9mZmVyIHVzZXJzIGFuIG9wdGlvbiB3aGV0aGVyIHRvIGVuYWJsZS4KICogSXQgd29uJ3QgYmUgYWJsZSB0byBpbXBvcnQgY2xpZW50IGR5bmFtaWMgbW9kdWxlcyBpZiBpdCdzIGRpc2FibGVkLgogKiBVc2UgY29tbW9uSnMgYmVjYXVzZSBkeW5hbWljIGltcG9ydCBjYW5ub3QgYmUgY2F1Z2h0IGh0dHBzOi8vZ2l0aHViLmNvbS93ZWJwYWNrL3dlYnBhY2svaXNzdWVzLzUzNjAKICovCmxldCBlbmRwb2ludDsKdHJ5IHsKICBjb25zdCBvcHRpb25zID0gcmVxdWlyZSgnQGR5bmFtaWMvbWFpbGNoaW1wT3B0aW9ucycpOwogIGVuZHBvaW50ID0gb3B0aW9ucy5lbmRwb2ludDsKfSBjYXRjaCAoZXJyb3IpIHsKICBkZWJ1ZygnRmFpbCB0byBnZXQgb3B0aW9ucycsIGVycm9yLm1lc3NhZ2UpOwp9CmNvbnN0IHN1YnNjcmliZVRvTWFpbGNoaW1wID0gZnVuY3Rpb24gYWRkVG9NYWlsY2hpbXAoZW1haWwsIGZpZWxkcykgewogIGNvbnN0IGVtYWlsRW5jb2RlZCA9IGVuY29kZVVSSUNvbXBvbmVudChlbWFpbCk7CiAgbGV0IHVybCA9IGVuZHBvaW50LnJlcGxhY2UoL1wvcG9zdC9nLCAnL3Bvc3QtanNvbicpOwogIGNvbnN0IGxpc3RGaWVsZHMgPSBmaWVsZHMgPyAnJicgKyBxdWVyeVN0cmluZy5zdHJpbmdpZnkoZmllbGRzKSA6ICcnOwogIGNvbnN0IHF1ZXJ5UGFyYW1zID0gYCZFTUFJTD0ke2VtYWlsRW5jb2RlZH0ke2xpc3RGaWVsZHN9YDsKICB1cmwgPSBgJHt1cmx9JHtxdWVyeVBhcmFtc31gOwogIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiBqc29ucCh1cmwsIHsKICAgIHBhcmFtOiAnYycsCiAgICB0aW1lb3V0OiAzNTAwCiAgfSwgKGVyciwgZGF0YSkgPT4gewogICAgaWYgKGVycikgewogICAgICBkZWJ1ZygnUmVxdWVzdCBmYWlsZWQnLCBlcnIpOwogICAgICByZWplY3QoZXJyKTsKICAgIH0KICAgIGlmIChkYXRhKSB7CiAgICAgIGRlYnVnKCdSZXF1ZXN0IHN1Y2Nlc3MnLCBkYXRhKTsKICAgICAgcmVzb2x2ZShkYXRhKTsKICAgIH0KICB9KSk7Cn07CmV4cG9ydCBkZWZhdWx0IHN1YnNjcmliZVRvTWFpbGNoaW1wOw=="},{"version":3,"names":["jsonp","queryString","_debug","debug","endpoint","options","require","error","message","subscribeToMailchimp","addToMailchimp","email","fields","emailEncoded","encodeURIComponent","url","replace","listFields","stringify","queryParams","Promise","resolve","reject","param","timeout","err","data"],"sources":["/Users/niefangchun/Desktop/个人博客/vuepress-starter/node_modules/vuepress-plugin-mailchimp/src/mailchimpSubscribe.js"],"sourcesContent":["import jsonp from 'jsonp';\nimport queryString from 'query-string';\nimport _debug from 'debug';\n\nconst debug = _debug('plugin-mailchimp');\n\n/**\n * If developers make UI customiztion and offer users an option whether to enable.\n * It won't be able to import client dynamic modules if it's disabled.\n * Use commonJs because dynamic import cannot be caught https://github.com/webpack/webpack/issues/5360\n */\nlet endpoint;\ntry {\n  const options = require('@dynamic/mailchimpOptions');\n  endpoint = options.endpoint;\n} catch (error) {\n  debug('Fail to get options', error.message);\n}\n\nconst subscribeToMailchimp = function addToMailchimp(email, fields) {\n  const emailEncoded = encodeURIComponent(email);\n  let url = endpoint.replace(/\\/post/g, '/post-json');\n  const listFields = fields ? '&' + queryString.stringify(fields) : '';\n  const queryParams = `&EMAIL=${emailEncoded}${listFields}`;\n  url = `${url}${queryParams}`;\n\n  return new Promise((resolve, reject) =>\n    jsonp(url, { param: 'c', timeout: 3500 }, (err, data) => {\n      if (err) {\n        debug('Request failed', err);\n        reject(err);\n      }\n      if (data) {\n        debug('Request success', data);\n        resolve(data);\n      }\n    })\n  );\n};\n\nexport default subscribeToMailchimp;\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,cAAc;AACtC,OAAOC,MAAM,MAAM,OAAO;AAE1B,MAAMC,KAAK,GAAGD,MAAM,CAAC,kBAAkB,CAAC;;AAExC;AACA;AACA;AACA;AACA;AACA,IAAIE,QAAQ;AACZ,IAAI;EACF,MAAMC,OAAO,GAAGC,OAAO,CAAC,2BAA2B,CAAC;EACpDF,QAAQ,GAAGC,OAAO,CAACD,QAAQ;AAC7B,CAAC,CAAC,OAAOG,KAAK,EAAE;EACdJ,KAAK,CAAC,qBAAqB,EAAEI,KAAK,CAACC,OAAO,CAAC;AAC7C;AAEA,MAAMC,oBAAoB,GAAG,SAASC,cAAcA,CAACC,KAAK,EAAEC,MAAM,EAAE;EAClE,MAAMC,YAAY,GAAGC,kBAAkB,CAACH,KAAK,CAAC;EAC9C,IAAII,GAAG,GAAGX,QAAQ,CAACY,OAAO,CAAC,SAAS,EAAE,YAAY,CAAC;EACnD,MAAMC,UAAU,GAAGL,MAAM,GAAG,GAAG,GAAGX,WAAW,CAACiB,SAAS,CAACN,MAAM,CAAC,GAAG,EAAE;EACpE,MAAMO,WAAW,GAAI,UAASN,YAAa,GAAEI,UAAW,EAAC;EACzDF,GAAG,GAAI,GAAEA,GAAI,GAAEI,WAAY,EAAC;EAE5B,OAAO,IAAIC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KACjCtB,KAAK,CAACe,GAAG,EAAE;IAAEQ,KAAK,EAAE,GAAG;IAAEC,OAAO,EAAE;EAAK,CAAC,EAAE,CAACC,GAAG,EAAEC,IAAI,KAAK;IACvD,IAAID,GAAG,EAAE;MACPtB,KAAK,CAAC,gBAAgB,EAAEsB,GAAG,CAAC;MAC5BH,MAAM,CAACG,GAAG,CAAC;IACb;IACA,IAAIC,IAAI,EAAE;MACRvB,KAAK,CAAC,iBAAiB,EAAEuB,IAAI,CAAC;MAC9BL,OAAO,CAACK,IAAI,CAAC;IACf;EACF,CAAC,CAAC,CACH;AACH,CAAC;AAED,eAAejB,oBAAoB"}]}